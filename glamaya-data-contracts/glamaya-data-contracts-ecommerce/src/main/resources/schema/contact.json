{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Generated schema for Glamaya E-Commerce Contact",
  "type": "object",
  "properties": {
    "id": {
      "type": "string",
      "description": "Unique identifier for the contact"
    },
    "mergedIds": {
      "type": "array",
      "description": "List of IDs that this contact has been merged with",
      "items": {
        "type": "string"
      }
    },
    "sources": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/source"
      }
    },
    "createdDate": {
      "type": "string",
      "format": "date-time"
    },
    "updatedDate": {
      "type": "string",
      "format": "date-time"
    },
    "name": {
      "type": "object",
      "properties": {
        "first": {
          "type": "string"
        },
        "middle": {
          "type": "string"
        },
        "last": {
          "type": "string"
        },
        "full": {
          "type": "string"
        }
      }
    },
    "emails": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/email"
      }
    },
    "phones": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/phone"
      }
    },
    "addresses": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/address"
      }
    },
    "extendedFields": {
      "$ref": "#/definitions/purchaseItem"
    },
    "purchaseHistory": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/purchaseItem"
      }
    }
  },
  "definitions": {
    "address": {
      "type": "object",
      "properties": {
        "type": {
          "$ref": "common-enum-schema.json#/definitions/address_type"
        },
        "firstName": {
          "type": "string"
        },
        "lastName": {
          "type": "string"
        },
        "country": {
          "type": "string"
        },
        "state": {
          "type": "string"
        },
        "city": {
          "type": "string"
        },
        "zipCode": {
          "type": "string"
        },
        "phone": {
          "type": "string"
        },
        "isPhoneValid": {
          "type": "boolean",
          "default": false
        },
        "email": {
          "type": "string"
        },
        "isEmailValid": {
          "type": "boolean",
          "default": false
        },
        "addressLine1": {
          "type": "string"
        },
        "addressLine2": {
          "type": "string"
        }
      }
    },
    "phone": {
      "type": "object",
      "properties": {
        "countryCode": {
          "type": "string"
        },
        "phone": {
          "type": "string"
        },
        "formattedPhone": {
          "type": "string"
        },
        "primary": {
          "type": "boolean"
        },
        "isPhoneValid": {
          "type": "boolean",
          "default": false
        }
      }
    },
    "email": {
      "type": "object",
      "properties": {
        "email": {
          "type": "string",
          "format": "email"
        },
        "primary": {
          "type": "boolean"
        },
        "isEmailValid": {
          "type": "boolean",
          "default": false
        }
      }
    },
    "source": {
      "type": "object",
      "properties": {
        "sourceName": {
          "type": "string"
        },
        "sourceType": {
          "$ref": "common-enum-schema.json#/definitions/source_type"
        },
        "sourceId": {
          "type": "string",
          "description": "Unique identifier for the source, e.g., WooCommerce order ID or user ID"
        },
        "id": {
          "type": "string",
          "description": "Unique identifier for the entity in the source system, if applicable"
        }
      }
    },
    "purchaseItem": {
      "type": "object",
      "properties": {
        "lastPurchaseDate": {
          "type": "string",
          "format": "date-time"
        },
        "numOfPurchases": {
          "type": "integer",
          "default": 0
        },
        "totalSpentAmount": {
          "type": "number",
          "default": 0
        },
        "totalSpentCurrency": {
          "type": "string"
        },
        "orderStatus": {
          "$ref": "common-enum-schema.json#/definitions/order_status"
        },
        "paymentStatus": {
          "$ref": "common-enum-schema.json#/definitions/payment_status"
        }
      }
    }
  }
}